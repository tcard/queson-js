function U(i,l){function f(){this.constructor=i}f.prototype=l.prototype,i.prototype=new f}function x(i,l,f,k){this.message=i,this.expected=l,this.found=f,this.location=k,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,x)}U(x,Error);x.buildMessage=function(i,l,f){var k={literal:function(t){return'"'+$(t.text)+'"'},class:function(t){var u=t.parts.map(function(p){return Array.isArray(p)?E(p[0])+"-"+E(p[1]):E(p)});return"["+(t.inverted?"^":"")+u+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description},not:function(t){return"not "+w(t.expected)}};function b(t){return t.charCodeAt(0).toString(16).toUpperCase()}function $(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+b(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+b(u)})}function E(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+b(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+b(u)})}function w(t){return k[t.type](t)}function S(t){var u=t.map(w),p,g;if(u.sort(),u.length>0){for(p=1,g=1;p<u.length;p++)u[p-1]!==u[p]&&(u[g]=u[p],g++);u.length=g}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}function C(t){return t?'"'+$(t)+'"':"end of input"}return"Expected "+S(i)+" but "+C(l)+" found."};function q(i,l){l=l!==void 0?l:{};var f={},k={JSON_text:0},b=0,$=["[","{","]","}",":",",","false","null","true",".","-","+","0","_"," ",'"',"\\","/","b","f","n","r","t","u"],E=[/^[ \t\n\r]/,/^[1-9]/,/^[eE]/,/^[^\0-\x1F"\\]/,/^[0-9]/,/^[0-9a-f]/i],w=[d("[",!1),d("{",!1),d("]",!1),d("}",!1),d(":",!1),d(",",!1),A("whitespace"),d("false",!1),d("null",!1),d("true",!1),A("number"),A("string")],S=[function(n){return n},function(n,r){return r},function(n,r){return[n,...r].map(e=>e.name+"-"+e.value).join("_")},function(n){return"X."+(n!==null?n:"")+".X"},function(n,r){return{name:n,value:r}},function(n,r){return r},function(n,r){return[n,...r].join("_")},function(n){return"I."+(n!==null?n:"")+".I"},function(n,r,e,o){return(n||"")+r+(e||"")+(o||"")},function(n,r){return"e"+(n||"")+r.join("")},function(){return T()},function(){return""},function(n){return"w."+n.join("")+".w"},function(){return".."},function(){return"._"},function(){return"_"},function(){return'"'},function(){return"\\"},function(){return"/"},function(){return".b"},function(){return".f"},function(){return".n"},function(){return".r"},function(){return".t"},function(n){return".u"+n.join("")},function(n){return n}],C=[s(`%;';(/)$;'8#: $!!("'#`),s(`%;'7 2 "!6 #/%$;'+#)("'#`),s(`%;'7!2!"!6!#/%$;'+#)("'#`),s(`%;'7"2""!6"#/%$;'+#)("'#`),s(`%;'7#2#"!6##/%$;'+#)("'#`),s(`%;'7$2$"!6$#/%$;'+#)("'#`),s(`%;'7%2%"!6%#/%$;'+#)("'#`),s('7&<$4 "!5!#0(*4 "!5!#&='),s(";).A &;*.; &;+.5 &;,./ &;..) &;/.# &;9"),s(`7'2&"!6&#`),s(`7(2'"!6'#`),s('7)2("!6(#'),s(`%;"/\x7F#%;-/a#$%;&/1#;-/($8":!#"$ ("'#&'#0;*%;&/1#;-/($8":!#"$ ("'#&'#&8":"#"! &'#." &";$/'$8#:#$!!(#'#&'#`),s(`%;9/:#;%/1$;(/($8#:$$"" (#'#("'#&'#`),s(`%;!/\x7F#%;(/a#$%;&/1#;(/($8":%#"$ ("'#&'#0;*%;&/1#;(/($8":%#"$ ("'#&'#&8":&#"! &'#." &";#/'$8#:'$!!(#'#&'#`),s(`7*<%;6." &";5/8$;4." &";3." &"8$:(%$#"! ("'#=`),s('2)"!6)#'),s('4!"!5!#'),s('4""!5!#'),s(`%;2/K#;6.# &;7." &"$;>/&#0#*;>&&&#/($8#:)$"! (#'#&'#`),s(`%;0/<#$;>/&#0#*;>&&&#/&$8":*# ("'#&'#`),s(`;8.A &%%;1/,#$;>0#*;>&+")&'#/& 8!:*! )`),s('2*"!6*#'),s('%2+"!6+#/& 8!:+! )'),s('2,"!6,#'),s("7+<%;</9#$;:0#*;:&;</'$8#:,$!!(#'#&'#="),s(`%2)"!6)#/& 8!:-! ).\u0164 &%2-"!6-#/& 8!:.! ).\u014E &%2."!6.#/& 8!:/! ).\u0138 &;=.\u0132 &%;;/\u0128#%2/"!6/#/& 8!:0! ).\u0105 &%20"!60#/& 8!:1! ).\xEF &%21"!61#/& 8!:2! ).\xD9 &%22"!62#/& 8!:3! ).\xC3 &%23"!63#/& 8!:4! ).\xAD &%24"!64#/& 8!:5! ).\x97 &%25"!65#/& 8!:6! ).\x81 &%26"!66#/& 8!:7! ).k &%27"!67#/\\#%%;?/>#;?/5$;?/,$;?/#$+$)($'#(#'#("'#&'#/"!&,)/'$8":8#! ("'#&'#/'$8":9#! ("'#&'#`),s('20"!60#'),s('2/"!6/#'),s('4#"!5!#'),s('4$"!5!#'),s('4%"!5!#')],t=0,u=0,p=[{line:1,column:1}],g=[],j=0,F;if("startRule"in l){if(!(l.startRule in k))throw new Error(`Can't start parsing from rule "`+l.startRule+'".');b=k[l.startRule]}function T(){return i.substring(u,t)}function V(){return u}function z(){return[u,t]}function G(){return m(u,t)}function H(n,r){throw r=r!==void 0?r:m(u,t),N([A(n)],i.substring(u,t),r)}function Q(n,r){throw r=r!==void 0?r:m(u,t),J(n,r)}function d(n,r){return{type:"literal",text:n,ignoreCase:r}}function W(n,r,e){return{type:"class",parts:n,inverted:r,ignoreCase:e}}function Y(){return{type:"any"}}function M(){return{type:"end"}}function A(n){return{type:"other",description:n}}function R(n){var r=p[n],e;if(r)return r;for(e=n-1;!p[e];)e--;for(r=p[e],r={line:r.line,column:r.column};e<n;)i.charCodeAt(e)===10?(r.line++,r.column=1):r.column++,e++;return p[n]=r,r}var O=typeof l.filename=="string"&&l.filename.length>0;function m(n,r){var e={};O&&(e.filename=l.filename);var o=R(n);e.start={offset:n,line:o.line,column:o.column};var c=R(r);return e.end={offset:r,line:c.line,column:c.column},e}function _(){g.push({pos:t,variants:[]})}function L(n){var r=g[g.length-1];t<r.pos||(t>r.pos&&(r.pos=t,r.variants=[]),r.variants.push(n))}function X(n){var r=g.pop(),e=g[g.length-1],o=r.variants;e.pos===r.pos&&(n&&(o=o.map(function(c){return c.type==="not"?c.expected:{type:"not",expected:c}})),Array.prototype.push.apply(e.variants,o))}function J(n,r){return new x(n,null,null,r)}function N(n,r,e){return new x(x.buildMessage(n,r,e),n,r,e)}function B(){var n=g[0],r=n.pos;return N(n.variants,r<i.length?i.charAt(r):null,r<i.length?m(r,r+1):m(r,r))}function s(n){return n.split("").map(function(r){return r.charCodeAt(0)-32})}function P(n){for(var r=C[n],e=0,o=[],c=r.length,h=[],a=[],v,I,D,K=function(y){j===0&&L(y)};;){for(;e<c;)switch(r[e]){case 0:a.push(""),e++;break;case 1:a.push(void 0),e++;break;case 2:a.push(null),e++;break;case 3:a.push(f),e++;break;case 4:a.push([]),e++;break;case 5:a.push(t),e++;break;case 6:a.pop(),e++;break;case 7:t=a.pop(),e++;break;case 8:a.length-=r[e+1],e+=2;break;case 9:a.splice(-2,1),e++;break;case 10:a[a.length-2].push(a.pop()),e++;break;case 11:a.push(a.splice(a.length-r[e+1],r[e+1])),e+=2;break;case 12:a.push(i.substring(a.pop(),t)),e++;break;case 41:I=r[e+2],D=3+I,v=r.slice(e+3,e+D),v=I===1?a[a.length-1-v[0]]:v.map(function(y){return a[a.length-1-y]}),a.splice(a.length-r[e+1],r[e+1],v),e+=D;break;case 13:h.push(c),o.push(e+3+r[e+1]+r[e+2]),a[a.length-1]?(c=e+3+r[e+1],e+=3):(c=e+3+r[e+1]+r[e+2],e+=3+r[e+1]);break;case 14:h.push(c),o.push(e+3+r[e+1]+r[e+2]),a[a.length-1]===f?(c=e+3+r[e+1],e+=3):(c=e+3+r[e+1]+r[e+2],e+=3+r[e+1]);break;case 15:h.push(c),o.push(e+3+r[e+1]+r[e+2]),a[a.length-1]!==f?(c=e+3+r[e+1],e+=3):(c=e+3+r[e+1]+r[e+2],e+=3+r[e+1]);break;case 16:a[a.length-1]!==f?(h.push(c),o.push(e),c=e+2+r[e+1],e+=2):e+=2+r[e+1];break;case 17:h.push(c),o.push(e+3+r[e+1]+r[e+2]),i.length>t?(c=e+3+r[e+1],e+=3):(c=e+3+r[e+1]+r[e+2],e+=3+r[e+1]);break;case 18:h.push(c),o.push(e+4+r[e+2]+r[e+3]),i.substr(t,$[r[e+1]].length)===$[r[e+1]]?(c=e+4+r[e+2],e+=4):(c=e+4+r[e+2]+r[e+3],e+=4+r[e+2]);break;case 19:h.push(c),o.push(e+4+r[e+2]+r[e+3]),i.substr(t,$[r[e+1]].length).toLowerCase()===$[r[e+1]]?(c=e+4+r[e+2],e+=4):(c=e+4+r[e+2]+r[e+3],e+=4+r[e+2]);break;case 20:h.push(c),o.push(e+4+r[e+2]+r[e+3]),E[r[e+1]].test(i.charAt(t))?(c=e+4+r[e+2],e+=4):(c=e+4+r[e+2]+r[e+3],e+=4+r[e+2]);break;case 21:a.push(i.substr(t,r[e+1])),t+=r[e+1],e+=2;break;case 22:a.push($[r[e+1]]),t+=$[r[e+1]].length,e+=2;break;case 23:K(w[r[e+1]]),e+=2;break;case 24:u=a[a.length-1-r[e+1]],e+=2;break;case 25:u=t,e++;break;case 26:v=r.slice(e+4,e+4+r[e+3]).map(function(y){return a[a.length-1-y]}),a.splice(a.length-r[e+2],r[e+2],S[r[e+1]].apply(null,v)),e+=4+r[e+3];break;case 27:a.push(P(r[e+1])),e+=2;break;case 28:j++,e++;break;case 29:j--,e++;break;case 38:_(),e++;break;case 39:X(r[e+1]),e+=2;break;default:throw new Error("Rule #"+n+", position "+e+": Invalid opcode "+r[e]+".")}if(h.length>0)c=h.pop(),e=o.pop();else break}return a[0]}if(_(),F=P(b),F!==f&&t===i.length)return F;throw F!==f&&t<i.length&&L(M()),B()}function re(i){return q(i)}var ne=x;export{ne as SyntaxError,re as fromJSON};
